<form class="<%= @query ? "" : "search__form--centered" %>">
  <input type="text" name="q" value="<%= @query %>" placeholder="<%= t("search_placeholder", total: @total) %>" class="search__text-input" />
  <input type="submit" value="<%= t("search_button") %>" class="search__button" />
</form>
<% if @query %>
  <% cache [controller.action_name, query_cache_key(@query), @records.current_page] do %>
    <% if @pagination_cache[:total_count] > 0 %>
      <h3><%= @pagination_cache[:total_count] =%> Objekte gefunden.</h3>
      <div class="pagination">
        <%= paginate @records, total_pages: @pagination_cache[:total_pages] %>
      </div>
      <hr />
      <% @records.each do |record| %>
        <%= render ResultComponent.new(query: @query, record: record) %>
        <hr />
      <% end %>
      <div class="pagination">
        <%= paginate @records, total_pages: @pagination_cache[:total_pages] %>
      </div>
    <% else %>
      <hr />
      <h3>Keine Akten gefunden.</h3>
    <% end %>
  <% end %>
<% end %>
